import{c as xe,d as It,e as kt,g as Ve,j as Ct,P as Se,f as Pe,D as Dt,k as Rt,i as Le,X as ot}from"./index-BOqttFVv.js";import{r as E,j as e,u as Ge,c as _t}from"./ui-DVJ6EJIP.js";import{d as ze,B as le,C as ee,a as te,P as Be}from"./input-BEVEn5os.js";import{h as Lt,R as Mt,u as At,F as $t,C as et,a as zt}from"./index-uLVG4bN9.js";import{B as Oe,S as Bt}from"./badge-Ck0-gSGy.js";import{M as Re,H as Fe,B as Ft,a as Wt,C as tt,T as Ut,b as Vt,c as Ce,d as De}from"./tabs-CnfIbHj-.js";import{r as Gt}from"./react-D3F3s8fL.js";import{D as qt,M as We}from"./mail-Butoi_4b.js";import{T as Ht}from"./label-DiwqgwnN.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=xe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=xe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=xe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=xe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=xe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=xe("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=xe("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=xe("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);var Ue={exports:{}},rt;function tr(){return rt||(rt=1,(()=>{var t={296:(l,a,i)=>{var b=/^\s+|\s+$/g,O=/^[-+]0x[0-9a-f]+$/i,j=/^0b[01]+$/i,y=/^0o[0-7]+$/i,I=parseInt,G=typeof i.g=="object"&&i.g&&i.g.Object===Object&&i.g,v=typeof self=="object"&&self&&self.Object===Object&&self,M=G||v||Function("return this")(),ce=Object.prototype.toString,pe=Math.max,he=Math.min,H=function(){return M.Date.now()};function D(w){var C=typeof w;return!!w&&(C=="object"||C=="function")}function ge(w){if(typeof w=="number")return w;if((function(x){return typeof x=="symbol"||(function(T){return!!T&&typeof T=="object"})(x)&&ce.call(x)=="[object Symbol]"})(w))return NaN;if(D(w)){var C=typeof w.valueOf=="function"?w.valueOf():w;w=D(C)?C+"":C}if(typeof w!="string")return w===0?w:+w;w=w.replace(b,"");var J=j.test(w);return J||y.test(w)?I(w.slice(2),J?2:8):O.test(w)?NaN:+w}l.exports=function(w,C,J){var x,T,F,R,L,A,W=0,X=!1,U=!1,re=!0;if(typeof w!="function")throw new TypeError("Expected a function");function ue(V){var Y=x,se=T;return x=T=void 0,W=V,R=w.apply(se,Y)}function de(V){var Y=V-A;return A===void 0||Y>=C||Y<0||U&&V-W>=F}function $(){var V=H();if(de(V))return ae(V);L=setTimeout($,(function(Y){var se=C-(Y-A);return U?he(se,F-(Y-W)):se})(V))}function ae(V){return L=void 0,re&&x?ue(V):(x=T=void 0,R)}function ne(){var V=H(),Y=de(V);if(x=arguments,T=this,A=V,Y){if(L===void 0)return(function(se){return W=se,L=setTimeout($,C),X?ue(se):R})(A);if(U)return L=setTimeout($,C),ue(A)}return L===void 0&&(L=setTimeout($,C)),R}return C=ge(C)||0,D(J)&&(X=!!J.leading,F=(U="maxWait"in J)?pe(ge(J.maxWait)||0,C):F,re="trailing"in J?!!J.trailing:re),ne.cancel=function(){L!==void 0&&clearTimeout(L),W=0,x=A=T=L=void 0},ne.flush=function(){return L===void 0?R:ae(H())},ne}},96:(l,a,i)=>{var b="Expected a function",O=NaN,j="[object Symbol]",y=/^\s+|\s+$/g,I=/^[-+]0x[0-9a-f]+$/i,G=/^0b[01]+$/i,v=/^0o[0-7]+$/i,M=parseInt,ce=typeof i.g=="object"&&i.g&&i.g.Object===Object&&i.g,pe=typeof self=="object"&&self&&self.Object===Object&&self,he=ce||pe||Function("return this")(),H=Object.prototype.toString,D=Math.max,ge=Math.min,w=function(){return he.Date.now()};function C(x){var T=typeof x;return!!x&&(T=="object"||T=="function")}function J(x){if(typeof x=="number")return x;if((function(R){return typeof R=="symbol"||(function(L){return!!L&&typeof L=="object"})(R)&&H.call(R)==j})(x))return O;if(C(x)){var T=typeof x.valueOf=="function"?x.valueOf():x;x=C(T)?T+"":T}if(typeof x!="string")return x===0?x:+x;x=x.replace(y,"");var F=G.test(x);return F||v.test(x)?M(x.slice(2),F?2:8):I.test(x)?O:+x}l.exports=function(x,T,F){var R=!0,L=!0;if(typeof x!="function")throw new TypeError(b);return C(F)&&(R="leading"in F?!!F.leading:R,L="trailing"in F?!!F.trailing:L),(function(A,W,X){var U,re,ue,de,$,ae,ne=0,V=!1,Y=!1,se=!0;if(typeof A!="function")throw new TypeError(b);function me(Z){var ie=U,oe=re;return U=re=void 0,ne=Z,de=A.apply(oe,ie)}function Te(Z){var ie=Z-ae;return ae===void 0||ie>=W||ie<0||Y&&Z-ne>=ue}function be(){var Z=w();if(Te(Z))return Ne(Z);$=setTimeout(be,(function(ie){var oe=W-(ie-ae);return Y?ge(oe,ue-(ie-ne)):oe})(Z))}function Ne(Z){return $=void 0,se&&U?me(Z):(U=re=void 0,de)}function ye(){var Z=w(),ie=Te(Z);if(U=arguments,re=this,ae=Z,ie){if($===void 0)return(function(oe){return ne=oe,$=setTimeout(be,W),V?me(oe):de})(ae);if(Y)return $=setTimeout(be,W),me(ae)}return $===void 0&&($=setTimeout(be,W)),de}return W=J(W)||0,C(X)&&(V=!!X.leading,ue=(Y="maxWait"in X)?D(J(X.maxWait)||0,W):ue,se="trailing"in X?!!X.trailing:se),ye.cancel=function(){$!==void 0&&clearTimeout($),ne=0,U=ae=re=$=void 0},ye.flush=function(){return $===void 0?de:Ne(w())},ye})(x,T,{leading:R,maxWait:T,trailing:L})}},703:(l,a,i)=>{var b=i(414);function O(){}function j(){}j.resetWarningCache=O,l.exports=function(){function y(v,M,ce,pe,he,H){if(H!==b){var D=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw D.name="Invariant Violation",D}}function I(){return y}y.isRequired=y;var G={array:y,bigint:y,bool:y,func:y,number:y,object:y,string:y,symbol:y,any:y,arrayOf:I,element:y,elementType:y,instanceOf:I,node:y,objectOf:I,oneOf:I,oneOfType:I,shape:I,exact:I,checkPropTypes:j,resetWarningCache:O};return G.PropTypes=G,G}},697:(l,a,i)=>{l.exports=i(703)()},414:l=>{l.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},u={};function n(l){var a=u[l];if(a!==void 0)return a.exports;var i=u[l]={exports:{}};return t[l](i,i.exports,n),i.exports}n.n=l=>{var a=l&&l.__esModule?()=>l.default:()=>l;return n.d(a,{a}),a},n.d=(l,a)=>{for(var i in a)n.o(a,i)&&!n.o(l,i)&&Object.defineProperty(l,i,{enumerable:!0,get:a[i]})},n.g=(function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}})(),n.o=(l,a)=>Object.prototype.hasOwnProperty.call(l,a),n.r=l=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})};var p={};(()=>{n.r(p),n.d(p,{LazyLoadComponent:()=>ie,LazyLoadImage:()=>Et,trackWindowScroll:()=>de});const l=Gt();var a=n.n(l),i=n(697);function b(){return typeof window<"u"&&"IntersectionObserver"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype}function O(c){return O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},O(c)}function j(c,r){var d=Object.keys(c);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(c);r&&(f=f.filter((function(N){return Object.getOwnPropertyDescriptor(c,N).enumerable}))),d.push.apply(d,f)}return d}function y(c,r,d){return(r=G(r))in c?Object.defineProperty(c,r,{value:d,enumerable:!0,configurable:!0,writable:!0}):c[r]=d,c}function I(c,r){for(var d=0;d<r.length;d++){var f=r[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,G(f.key),f)}}function G(c){var r=(function(d,f){if(O(d)!=="object"||d===null)return d;var N=d[Symbol.toPrimitive];if(N!==void 0){var P=N.call(d,"string");if(O(P)!=="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(d)})(c);return O(r)==="symbol"?r:String(r)}function v(c,r){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(d,f){return d.__proto__=f,d},v(c,r)}function M(c){return M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},M(c)}var ce=function(c){c.forEach((function(r){r.isIntersecting&&r.target.onVisible()}))},pe={},he=(function(c){(function(o,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(s&&s.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),s&&v(o,s)})(k,c);var r,d,f,N,P=(f=k,N=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var o,s=M(f);if(N){var g=M(this).constructor;o=Reflect.construct(s,arguments,g)}else o=s.apply(this,arguments);return(function(h,m){if(m&&(O(m)==="object"||typeof m=="function"))return m;if(m!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(S){if(S===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S})(h)})(this,o)});function k(o){var s;if((function(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")})(this,k),(s=P.call(this,o)).supportsObserver=!o.scrollPosition&&o.useIntersectionObserver&&b(),s.supportsObserver){var g=o.threshold;s.observer=(function(h){return pe[h]=pe[h]||new IntersectionObserver(ce,{rootMargin:h+"px"}),pe[h]})(g)}return s}return r=k,d=[{key:"componentDidMount",value:function(){this.placeholder&&this.observer&&(this.placeholder.onVisible=this.props.onVisible,this.observer.observe(this.placeholder)),this.supportsObserver||this.updateVisibility()}},{key:"componentWillUnmount",value:function(){this.observer&&this.placeholder&&this.observer.unobserve(this.placeholder)}},{key:"componentDidUpdate",value:function(){this.supportsObserver||this.updateVisibility()}},{key:"getPlaceholderBoundingBox",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.scrollPosition,s=this.placeholder.getBoundingClientRect(),g=this.placeholder.style,h=parseInt(g.getPropertyValue("margin-left"),10)||0,m=parseInt(g.getPropertyValue("margin-top"),10)||0;return{bottom:o.y+s.bottom+m,left:o.x+s.left+h,right:o.x+s.right+h,top:o.y+s.top+m}}},{key:"isPlaceholderInViewport",value:function(){if(typeof window>"u"||!this.placeholder)return!1;var o=this.props,s=o.scrollPosition,g=o.threshold,h=this.getPlaceholderBoundingBox(s),m=s.y+window.innerHeight,S=s.x,z=s.x+window.innerWidth,B=s.y;return B-g<=h.bottom&&m+g>=h.top&&S-g<=h.right&&z+g>=h.left}},{key:"updateVisibility",value:function(){this.isPlaceholderInViewport()&&this.props.onVisible()}},{key:"render",value:function(){var o=this,s=this.props,g=s.className,h=s.height,m=s.placeholder,S=s.style,z=s.width;if(m&&typeof m.type!="function")return a().cloneElement(m,{ref:function(_){return o.placeholder=_}});var B=(function(_){for(var K=1;K<arguments.length;K++){var q=arguments[K]!=null?arguments[K]:{};K%2?j(Object(q),!0).forEach((function(Q){y(_,Q,q[Q])})):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(q)):j(Object(q)).forEach((function(Q){Object.defineProperty(_,Q,Object.getOwnPropertyDescriptor(q,Q))}))}return _})({display:"inline-block"},S);return z!==void 0&&(B.width=z),h!==void 0&&(B.height=h),a().createElement("span",{className:g,ref:function(_){return o.placeholder=_},style:B},m)}}],d&&I(r.prototype,d),Object.defineProperty(r,"prototype",{writable:!1}),k})(a().Component);he.propTypes={onVisible:i.PropTypes.func.isRequired,className:i.PropTypes.string,height:i.PropTypes.oneOfType([i.PropTypes.number,i.PropTypes.string]),placeholder:i.PropTypes.element,threshold:i.PropTypes.number,useIntersectionObserver:i.PropTypes.bool,scrollPosition:i.PropTypes.shape({x:i.PropTypes.number.isRequired,y:i.PropTypes.number.isRequired}),width:i.PropTypes.oneOfType([i.PropTypes.number,i.PropTypes.string])},he.defaultProps={className:"",placeholder:null,threshold:100,useIntersectionObserver:!0};const H=he;var D=n(296),ge=n.n(D),w=n(96),C=n.n(w),J=function(c){var r=getComputedStyle(c,null);return r.getPropertyValue("overflow")+r.getPropertyValue("overflow-y")+r.getPropertyValue("overflow-x")};const x=function(c){if(!(c instanceof HTMLElement))return window;for(var r=c;r&&r instanceof HTMLElement;){if(/(scroll|auto)/.test(J(r)))return r;r=r.parentNode}return window};function T(c){return T=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},T(c)}var F=["delayMethod","delayTime"];function R(){return R=Object.assign?Object.assign.bind():function(c){for(var r=1;r<arguments.length;r++){var d=arguments[r];for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(c[f]=d[f])}return c},R.apply(this,arguments)}function L(c,r){for(var d=0;d<r.length;d++){var f=r[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,(N=(function(P,k){if(T(P)!=="object"||P===null)return P;var o=P[Symbol.toPrimitive];if(o!==void 0){var s=o.call(P,"string");if(T(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(P)})(f.key),T(N)==="symbol"?N:String(N)),f)}var N}function A(c,r){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(d,f){return d.__proto__=f,d},A(c,r)}function W(c,r){if(r&&(T(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X(c)}function X(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}function U(c){return U=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},U(c)}var re=function(){return typeof window>"u"?0:window.scrollX||window.pageXOffset},ue=function(){return typeof window>"u"?0:window.scrollY||window.pageYOffset};const de=function(c){var r=(function(d){(function(g,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(h&&h.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),Object.defineProperty(g,"prototype",{writable:!1}),h&&A(g,h)})(s,d);var f,N,P,k,o=(P=s,k=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var g,h=U(P);if(k){var m=U(this).constructor;g=Reflect.construct(h,arguments,m)}else g=h.apply(this,arguments);return W(this,g)});function s(g){var h;if((function(S,z){if(!(S instanceof z))throw new TypeError("Cannot call a class as a function")})(this,s),(h=o.call(this,g)).useIntersectionObserver=g.useIntersectionObserver&&b(),h.useIntersectionObserver)return W(h);var m=h.onChangeScroll.bind(X(h));return g.delayMethod==="debounce"?h.delayedScroll=ge()(m,g.delayTime):g.delayMethod==="throttle"&&(h.delayedScroll=C()(m,g.delayTime)),h.state={scrollPosition:{x:re(),y:ue()}},h.baseComponentRef=a().createRef(),h}return f=s,(N=[{key:"componentDidMount",value:function(){this.addListeners()}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"componentDidUpdate",value:function(){typeof window>"u"||this.useIntersectionObserver||x(this.baseComponentRef.current)!==this.scrollElement&&(this.removeListeners(),this.addListeners())}},{key:"addListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement=x(this.baseComponentRef.current),this.scrollElement.addEventListener("scroll",this.delayedScroll,{passive:!0}),window.addEventListener("resize",this.delayedScroll,{passive:!0}),this.scrollElement!==window&&window.addEventListener("scroll",this.delayedScroll,{passive:!0}))}},{key:"removeListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement.removeEventListener("scroll",this.delayedScroll),window.removeEventListener("resize",this.delayedScroll),this.scrollElement!==window&&window.removeEventListener("scroll",this.delayedScroll))}},{key:"onChangeScroll",value:function(){this.useIntersectionObserver||this.setState({scrollPosition:{x:re(),y:ue()}})}},{key:"render",value:function(){var g=this.props,h=(g.delayMethod,g.delayTime,(function(S,z){if(S==null)return{};var B,_,K=(function(Q,je){if(Q==null)return{};var ve,ke,Ye={},Qe=Object.keys(Q);for(ke=0;ke<Qe.length;ke++)ve=Qe[ke],je.indexOf(ve)>=0||(Ye[ve]=Q[ve]);return Ye})(S,z);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(S);for(_=0;_<q.length;_++)B=q[_],z.indexOf(B)>=0||Object.prototype.propertyIsEnumerable.call(S,B)&&(K[B]=S[B])}return K})(g,F)),m=this.useIntersectionObserver?null:this.state.scrollPosition;return a().createElement(c,R({forwardRef:this.baseComponentRef,scrollPosition:m},h))}}])&&L(f.prototype,N),Object.defineProperty(f,"prototype",{writable:!1}),s})(a().Component);return r.propTypes={delayMethod:i.PropTypes.oneOf(["debounce","throttle"]),delayTime:i.PropTypes.number,useIntersectionObserver:i.PropTypes.bool},r.defaultProps={delayMethod:"throttle",delayTime:300,useIntersectionObserver:!0},r};function $(c){return $=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},$(c)}function ae(c,r){for(var d=0;d<r.length;d++){var f=r[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,(N=(function(P,k){if($(P)!=="object"||P===null)return P;var o=P[Symbol.toPrimitive];if(o!==void 0){var s=o.call(P,"string");if($(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(P)})(f.key),$(N)==="symbol"?N:String(N)),f)}var N}function ne(c,r){return ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(d,f){return d.__proto__=f,d},ne(c,r)}function V(c){return V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},V(c)}var Y=(function(c){(function(o,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(s&&s.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),s&&ne(o,s)})(k,c);var r,d,f,N,P=(f=k,N=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var o,s=V(f);if(N){var g=V(this).constructor;o=Reflect.construct(s,arguments,g)}else o=s.apply(this,arguments);return(function(h,m){if(m&&($(m)==="object"||typeof m=="function"))return m;if(m!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(S){if(S===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S})(h)})(this,o)});function k(o){return(function(s,g){if(!(s instanceof g))throw new TypeError("Cannot call a class as a function")})(this,k),P.call(this,o)}return r=k,(d=[{key:"render",value:function(){return a().createElement(H,this.props)}}])&&ae(r.prototype,d),Object.defineProperty(r,"prototype",{writable:!1}),k})(a().Component);const se=de(Y);function me(c){return me=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},me(c)}function Te(c,r){for(var d=0;d<r.length;d++){var f=r[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,(N=(function(P,k){if(me(P)!=="object"||P===null)return P;var o=P[Symbol.toPrimitive];if(o!==void 0){var s=o.call(P,"string");if(me(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(P)})(f.key),me(N)==="symbol"?N:String(N)),f)}var N}function be(c,r){return be=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(d,f){return d.__proto__=f,d},be(c,r)}function Ne(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}function ye(c){return ye=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ye(c)}var Z=(function(c){(function(o,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(s&&s.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),s&&be(o,s)})(k,c);var r,d,f,N,P=(f=k,N=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var o,s=ye(f);if(N){var g=ye(this).constructor;o=Reflect.construct(s,arguments,g)}else o=s.apply(this,arguments);return(function(h,m){if(m&&(me(m)==="object"||typeof m=="function"))return m;if(m!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ne(h)})(this,o)});function k(o){var s;(function(z,B){if(!(z instanceof B))throw new TypeError("Cannot call a class as a function")})(this,k),s=P.call(this,o);var g=o.afterLoad,h=o.beforeLoad,m=o.scrollPosition,S=o.visibleByDefault;return s.state={visible:S},S&&(h(),g()),s.onVisible=s.onVisible.bind(Ne(s)),s.isScrollTracked=!!(m&&Number.isFinite(m.x)&&m.x>=0&&Number.isFinite(m.y)&&m.y>=0),s}return r=k,(d=[{key:"componentDidUpdate",value:function(o,s){s.visible!==this.state.visible&&this.props.afterLoad()}},{key:"onVisible",value:function(){this.props.beforeLoad(),this.setState({visible:!0})}},{key:"render",value:function(){if(this.state.visible)return this.props.children;var o=this.props,s=o.className,g=o.delayMethod,h=o.delayTime,m=o.height,S=o.placeholder,z=o.scrollPosition,B=o.style,_=o.threshold,K=o.useIntersectionObserver,q=o.width;return this.isScrollTracked||K&&b()?a().createElement(H,{className:s,height:m,onVisible:this.onVisible,placeholder:S,scrollPosition:z,style:B,threshold:_,useIntersectionObserver:K,width:q}):a().createElement(se,{className:s,delayMethod:g,delayTime:h,height:m,onVisible:this.onVisible,placeholder:S,style:B,threshold:_,width:q})}}])&&Te(r.prototype,d),Object.defineProperty(r,"prototype",{writable:!1}),k})(a().Component);Z.propTypes={afterLoad:i.PropTypes.func,beforeLoad:i.PropTypes.func,useIntersectionObserver:i.PropTypes.bool,visibleByDefault:i.PropTypes.bool},Z.defaultProps={afterLoad:function(){return{}},beforeLoad:function(){return{}},useIntersectionObserver:!0,visibleByDefault:!1};const ie=Z;function oe(c){return oe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},oe(c)}var Pt=["afterLoad","beforeLoad","delayMethod","delayTime","effect","placeholder","placeholderSrc","scrollPosition","threshold","useIntersectionObserver","visibleByDefault","wrapperClassName","wrapperProps"];function Ze(c,r){var d=Object.keys(c);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(c);r&&(f=f.filter((function(N){return Object.getOwnPropertyDescriptor(c,N).enumerable}))),d.push.apply(d,f)}return d}function Ke(c){for(var r=1;r<arguments.length;r++){var d=arguments[r]!=null?arguments[r]:{};r%2?Ze(Object(d),!0).forEach((function(f){St(c,f,d[f])})):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(d)):Ze(Object(d)).forEach((function(f){Object.defineProperty(c,f,Object.getOwnPropertyDescriptor(d,f))}))}return c}function St(c,r,d){return(r=Xe(r))in c?Object.defineProperty(c,r,{value:d,enumerable:!0,configurable:!0,writable:!0}):c[r]=d,c}function Ee(){return Ee=Object.assign?Object.assign.bind():function(c){for(var r=1;r<arguments.length;r++){var d=arguments[r];for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(c[f]=d[f])}return c},Ee.apply(this,arguments)}function Tt(c,r){for(var d=0;d<r.length;d++){var f=r[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,Xe(f.key),f)}}function Xe(c){var r=(function(d,f){if(oe(d)!=="object"||d===null)return d;var N=d[Symbol.toPrimitive];if(N!==void 0){var P=N.call(d,"string");if(oe(P)!=="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(d)})(c);return oe(r)==="symbol"?r:String(r)}function Ae(c,r){return Ae=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(d,f){return d.__proto__=f,d},Ae(c,r)}function Ie(c){return Ie=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ie(c)}var $e=(function(c){(function(o,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(s&&s.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),s&&Ae(o,s)})(k,c);var r,d,f,N,P=(f=k,N=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var o,s=Ie(f);if(N){var g=Ie(this).constructor;o=Reflect.construct(s,arguments,g)}else o=s.apply(this,arguments);return(function(h,m){if(m&&(oe(m)==="object"||typeof m=="function"))return m;if(m!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(S){if(S===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S})(h)})(this,o)});function k(o){var s;return(function(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")})(this,k),(s=P.call(this,o)).state={loaded:!1},s}return r=k,(d=[{key:"onImageLoad",value:function(){var o=this;return this.state.loaded?null:function(s){o.props.onLoad(s),o.props.afterLoad(),o.setState({loaded:!0})}}},{key:"getImg",value:function(){var o=this.props,s=(o.afterLoad,o.beforeLoad,o.delayMethod,o.delayTime,o.effect,o.placeholder,o.placeholderSrc,o.scrollPosition,o.threshold,o.useIntersectionObserver,o.visibleByDefault,o.wrapperClassName,o.wrapperProps,(function(g,h){if(g==null)return{};var m,S,z=(function(_,K){if(_==null)return{};var q,Q,je={},ve=Object.keys(_);for(Q=0;Q<ve.length;Q++)q=ve[Q],K.indexOf(q)>=0||(je[q]=_[q]);return je})(g,h);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(g);for(S=0;S<B.length;S++)m=B[S],h.indexOf(m)>=0||Object.prototype.propertyIsEnumerable.call(g,m)&&(z[m]=g[m])}return z})(o,Pt));return a().createElement("img",Ee({},s,{onLoad:this.onImageLoad()}))}},{key:"getLazyLoadImage",value:function(){var o=this.props,s=o.beforeLoad,g=o.className,h=o.delayMethod,m=o.delayTime,S=o.height,z=o.placeholder,B=o.scrollPosition,_=o.style,K=o.threshold,q=o.useIntersectionObserver,Q=o.visibleByDefault,je=o.width;return a().createElement(ie,{beforeLoad:s,className:g,delayMethod:h,delayTime:m,height:S,placeholder:z,scrollPosition:B,style:_,threshold:K,useIntersectionObserver:q,visibleByDefault:Q,width:je},this.getImg())}},{key:"getWrappedLazyLoadImage",value:function(o){var s=this.props,g=s.effect,h=s.height,m=s.placeholderSrc,S=s.width,z=s.wrapperClassName,B=s.wrapperProps,_=this.state.loaded,K=_?" lazy-load-image-loaded":"",q=_||!m?{}:{backgroundImage:"url(".concat(m,")"),backgroundSize:"100% 100%"};return a().createElement("span",Ee({className:z+" lazy-load-image-background "+g+K,style:Ke(Ke({},q),{},{color:"transparent",display:"inline-block",height:h,width:S})},B),o)}},{key:"render",value:function(){var o=this.props,s=o.effect,g=o.placeholderSrc,h=o.visibleByDefault,m=o.wrapperClassName,S=o.wrapperProps,z=this.getLazyLoadImage();return(s||g)&&!h||m||S?this.getWrappedLazyLoadImage(z):z}}])&&Tt(r.prototype,d),Object.defineProperty(r,"prototype",{writable:!1}),k})(a().Component);$e.propTypes={onLoad:i.PropTypes.func,afterLoad:i.PropTypes.func,beforeLoad:i.PropTypes.func,delayMethod:i.PropTypes.string,delayTime:i.PropTypes.number,effect:i.PropTypes.string,placeholderSrc:i.PropTypes.string,threshold:i.PropTypes.number,useIntersectionObserver:i.PropTypes.bool,visibleByDefault:i.PropTypes.bool,wrapperClassName:i.PropTypes.string,wrapperProps:i.PropTypes.object},$e.defaultProps={onLoad:function(){},afterLoad:function(){return{}},beforeLoad:function(){return{}},delayMethod:"throttle",delayTime:300,effect:"",placeholderSrc:null,threshold:100,useIntersectionObserver:!0,visibleByDefault:!1,wrapperClassName:""};const Et=$e})(),Ue.exports=p})()),Ue.exports}var rr=tr(),Me="Dialog",[nt]=kt(Me),[or,fe]=nt(Me),st=t=>{const{__scopeDialog:u,children:n,open:p,defaultOpen:l,onOpenChange:a,modal:i=!0}=t,b=E.useRef(null),O=E.useRef(null),[j,y]=It({prop:p,defaultProp:l??!1,onChange:a,caller:Me});return e.jsx(or,{scope:u,triggerRef:b,contentRef:O,contentId:ze(),titleId:ze(),descriptionId:ze(),open:j,onOpenChange:y,onOpenToggle:E.useCallback(()=>y(I=>!I),[y]),modal:i,children:n})};st.displayName=Me;var at="DialogTrigger",nr=E.forwardRef((t,u)=>{const{__scopeDialog:n,...p}=t,l=fe(at,n),a=Ge(u,l.triggerRef);return e.jsx(Se.button,{type:"button","aria-haspopup":"dialog","aria-expanded":l.open,"aria-controls":l.contentId,"data-state":Je(l.open),...p,ref:a,onClick:Pe(t.onClick,l.onOpenToggle)})});nr.displayName=at;var qe="DialogPortal",[sr,it]=nt(qe,{forceMount:void 0}),lt=t=>{const{__scopeDialog:u,forceMount:n,children:p,container:l}=t,a=fe(qe,u);return e.jsx(sr,{scope:u,forceMount:n,children:E.Children.map(p,i=>e.jsx(Ve,{present:n||a.open,children:e.jsx(Ct,{asChild:!0,container:l,children:i})}))})};lt.displayName=qe;var _e="DialogOverlay",ct=E.forwardRef((t,u)=>{const n=it(_e,t.__scopeDialog),{forceMount:p=n.forceMount,...l}=t,a=fe(_e,t.__scopeDialog);return a.modal?e.jsx(Ve,{present:p||a.open,children:e.jsx(ir,{...l,ref:u})}):null});ct.displayName=_e;var ar=_t("DialogOverlay.RemoveScroll"),ir=E.forwardRef((t,u)=>{const{__scopeDialog:n,...p}=t,l=fe(_e,n);return e.jsx(Mt,{as:ar,allowPinchZoom:!0,shards:[l.contentRef],children:e.jsx(Se.div,{"data-state":Je(l.open),...p,ref:u,style:{pointerEvents:"auto",...p.style}})})}),we="DialogContent",ut=E.forwardRef((t,u)=>{const n=it(we,t.__scopeDialog),{forceMount:p=n.forceMount,...l}=t,a=fe(we,t.__scopeDialog);return e.jsx(Ve,{present:p||a.open,children:a.modal?e.jsx(lr,{...l,ref:u}):e.jsx(cr,{...l,ref:u})})});ut.displayName=we;var lr=E.forwardRef((t,u)=>{const n=fe(we,t.__scopeDialog),p=E.useRef(null),l=Ge(u,n.contentRef,p);return E.useEffect(()=>{const a=p.current;if(a)return Lt(a)},[]),e.jsx(dt,{...t,ref:l,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Pe(t.onCloseAutoFocus,a=>{a.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Pe(t.onPointerDownOutside,a=>{const i=a.detail.originalEvent,b=i.button===0&&i.ctrlKey===!0;(i.button===2||b)&&a.preventDefault()}),onFocusOutside:Pe(t.onFocusOutside,a=>a.preventDefault())})}),cr=E.forwardRef((t,u)=>{const n=fe(we,t.__scopeDialog),p=E.useRef(!1),l=E.useRef(!1);return e.jsx(dt,{...t,ref:u,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{t.onCloseAutoFocus?.(a),a.defaultPrevented||(p.current||n.triggerRef.current?.focus(),a.preventDefault()),p.current=!1,l.current=!1},onInteractOutside:a=>{t.onInteractOutside?.(a),a.defaultPrevented||(p.current=!0,a.detail.originalEvent.type==="pointerdown"&&(l.current=!0));const i=a.target;n.triggerRef.current?.contains(i)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&l.current&&a.preventDefault()}})}),dt=E.forwardRef((t,u)=>{const{__scopeDialog:n,trapFocus:p,onOpenAutoFocus:l,onCloseAutoFocus:a,...i}=t,b=fe(we,n),O=E.useRef(null),j=Ge(u,O);return At(),e.jsxs(e.Fragment,{children:[e.jsx($t,{asChild:!0,loop:!0,trapped:p,onMountAutoFocus:l,onUnmountAutoFocus:a,children:e.jsx(Dt,{role:"dialog",id:b.contentId,"aria-describedby":b.descriptionId,"aria-labelledby":b.titleId,"data-state":Je(b.open),...i,ref:j,onDismiss:()=>b.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(ur,{titleId:b.titleId}),e.jsx(fr,{contentRef:O,descriptionId:b.descriptionId})]})]})}),He="DialogTitle",ft=E.forwardRef((t,u)=>{const{__scopeDialog:n,...p}=t,l=fe(He,n);return e.jsx(Se.h2,{id:l.titleId,...p,ref:u})});ft.displayName=He;var pt="DialogDescription",mt=E.forwardRef((t,u)=>{const{__scopeDialog:n,...p}=t,l=fe(pt,n);return e.jsx(Se.p,{id:l.descriptionId,...p,ref:u})});mt.displayName=pt;var ht="DialogClose",gt=E.forwardRef((t,u)=>{const{__scopeDialog:n,...p}=t,l=fe(ht,n);return e.jsx(Se.button,{type:"button",...p,ref:u,onClick:Pe(t.onClick,()=>l.onOpenChange(!1))})});gt.displayName=ht;function Je(t){return t?"open":"closed"}var bt="DialogTitleWarning",[Cr,yt]=Rt(bt,{contentName:we,titleName:He,docsSlug:"dialog"}),ur=({titleId:t})=>{const u=yt(bt),n=`\`${u.contentName}\` requires a \`${u.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${u.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${u.docsSlug}`;return E.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},dr="DialogDescriptionWarning",fr=({contentRef:t,descriptionId:u})=>{const p=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${yt(dr).contentName}}.`;return E.useEffect(()=>{const l=t.current?.getAttribute("aria-describedby");u&&l&&(document.getElementById(u)||console.warn(p))},[p,t,u]),null},pr=st,mr=lt,xt=ct,vt=ut,wt=ft,jt=mt,hr=gt;const gr=pr,br=mr,Nt=E.forwardRef(({className:t,...u},n)=>e.jsx(xt,{ref:n,className:Le("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...u}));Nt.displayName=xt.displayName;const Ot=E.forwardRef(({className:t,children:u,...n},p)=>e.jsxs(br,{children:[e.jsx(Nt,{}),e.jsxs(vt,{ref:p,className:Le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[u,e.jsxs(hr,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[e.jsx(ot,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ot.displayName=vt.displayName;const yr=E.forwardRef(({className:t,...u},n)=>e.jsx(wt,{ref:n,className:Le("text-lg font-semibold leading-none tracking-tight",t),...u}));yr.displayName=wt.displayName;const xr=E.forwardRef(({className:t,...u},n)=>e.jsx(jt,{ref:n,className:Le("text-sm text-muted-foreground",t),...u}));xr.displayName=jt.displayName;const vr=({latitude:t,longitude:u,address:n,city:p,state:l,zipCode:a,className:i="",height:b="h-64"})=>{const O=E.useRef(null),j=E.useRef(null),y=E.useRef(null),[I,G]=E.useState(!1),[v,M]=E.useState(!0);if(E.useEffect(()=>{if(window.google&&window.google.maps&&window.google.maps.Map){G(!0),M(!1);return}if(document.querySelector('script[src*="maps.googleapis.com/maps/api/js"]')){const w=setInterval(()=>{window.google&&window.google.maps&&window.google.maps.Map&&(G(!0),M(!1),clearInterval(w))},100);return setTimeout(()=>{clearInterval(w),(!window.google||!window.google.maps)&&M(!1)},5e3),()=>clearInterval(w)}const D=document.createElement("script"),ge="AIzaSyCPiwvpr4dC6-Iuz0pdZCnfg9_jNO-zP50";return D.src=`https://maps.googleapis.com/maps/api/js?key=${ge}&callback=initGoogleMapsPropertyLocation`,D.async=!0,D.defer=!0,D.onerror=()=>{console.error("Failed to load Google Maps API."),G(!1),M(!1)},window.initGoogleMapsPropertyLocation=()=>{window.google&&window.google.maps&&window.google.maps.Map&&(G(!0),M(!1))},document.head.appendChild(D),()=>{D.parentNode&&D.parentNode.removeChild(D),window.initGoogleMapsPropertyLocation&&delete window.initGoogleMapsPropertyLocation}},[]),E.useEffect(()=>{if(!I||!O.current)return;const H=t,D=u;if(H&&D&&!isNaN(H)&&!isNaN(D)&&H>=-90&&H<=90&&D>=-180&&D<=180){console.log("ðŸ“ Using exact coordinates:",{lat:H,lng:D}),x(H,D);return}const w=[];n&&w.push(n.trim()),p&&w.push(p.trim()),l&&w.push(l.trim()),a&&w.push(a.trim());const C=w.length>0?w.join(", ").trim():"";if(C){if(console.log("ðŸ”„ Geocoding address:",C),!window.google||!window.google.maps||!window.google.maps.Geocoder){const T=setInterval(()=>{window.google&&window.google.maps&&window.google.maps.Geocoder&&(clearInterval(T),J(C))},100);setTimeout(()=>clearInterval(T),5e3);return}J(C)}else console.warn("âš ï¸ No coordinates or address available for map");function J(T){if(!window.google||!window.google.maps||!window.google.maps.Geocoder){console.warn("Google Maps Geocoder not available");return}const F=new window.google.maps.Geocoder;console.log("ðŸ—ºï¸ Geocoding address:",T),F.geocode({address:T},(R,L)=>{if(L==="OK"&&R&&R.length>0){const A=R[0].geometry.location,W=typeof A.lat=="function"?A.lat():A.lat,X=typeof A.lng=="function"?A.lng():A.lng,U=R[0].types||[],re=U.includes("street_address")||U.includes("premise")||U.includes("subpremise");console.log("âœ… Geocoded successfully:",{lat:W,lng:X,isExact:re,types:U}),!isNaN(W)&&!isNaN(X)?x(W,X):(console.warn("Invalid geocoded coordinates"),x(40.4432,-79.9428))}else console.warn("Geocoding failed:",L),x(40.4432,-79.9428)})}function x(T,F){if(!O.current||!window.google)return;if(j.current)j.current.setCenter({lat:T,lng:F}),j.current.setZoom(15);else{const A=new window.google.maps.Map(O.current,{center:{lat:T,lng:F},zoom:15,mapTypeControl:!0,streetViewControl:!0,fullscreenControl:!0,zoomControl:!0,mapTypeId:window.google.maps.MapTypeId.ROADMAP});j.current=A}y.current&&(y.current.setMap(null),y.current=null);const R=new window.google.maps.Marker({position:{lat:T,lng:F},map:j.current,title:n||"Property Location",animation:window.google.maps.Animation.DROP});new window.google.maps.InfoWindow({content:`
          <div style="padding: 8px; min-width: 200px;">
            <h3 style="font-weight: bold; color: #2563eb; font-size: 14px; margin: 0 0 4px 0;">
              ${n||"Property Location"}
            </h3>
            ${p&&l?`<p style="font-size: 12px; color: #666; margin: 0;">${p}, ${l} ${a||""}</p>`:""}
          </div>
        `}).open(j.current,R),y.current=R}},[I,t,u,n,p,l,a]),!I||v)return e.jsx("div",{className:`${b} bg-gradient-to-br from-slate-100 to-slate-200 rounded-lg flex items-center justify-center border border-dashed border-slate-300 ${i}`,children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),e.jsx(Re,{className:"h-6 w-6 text-slate-400 mx-auto mb-2"}),e.jsx("p",{className:"text-xs text-slate-500 font-medium",children:"Loading map..."})]})});const ce=t&&u&&!isNaN(t)&&!isNaN(u),pe=n&&n.trim()!=="";return ce||pe?e.jsx("div",{className:`rounded-lg overflow-hidden border border-slate-200 shadow-sm ${i}`,children:e.jsx("div",{ref:O,className:`w-full ${b}`})}):e.jsx("div",{className:`${b} bg-gradient-to-br from-slate-100 to-slate-200 rounded-lg flex items-center justify-center border border-dashed border-slate-300 ${i}`,children:e.jsxs("div",{className:"text-center",children:[e.jsx(Re,{className:"h-8 w-8 text-slate-400 mx-auto mb-2"}),e.jsx("p",{className:"text-xs text-slate-500 font-medium",children:"Map View"}),e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Location information not available"})]})})},Dr=({property:t,open:u,onClose:n})=>{const[p,l]=E.useState(0),[a,i]=E.useState(!1);if(E.useEffect(()=>{t&&u&&(l(0),i(!1))},[t,u]),!t)return null;const b=t.images||(t.photos&&t.photos.length>0?t.photos.map(v=>v.url||v.photo_url||"").filter(Boolean):[])||(t.image?[t.image]:[]),O=b.length>1,j=()=>{l(v=>(v+1)%b.length)},y=()=>{l(v=>(v-1+b.length)%b.length)},I=(v=0)=>Array.from({length:5},(M,ce)=>e.jsx(Bt,{className:`h-3 w-3 ${ce<v?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},ce)),G=()=>t.listingType==="buy"?e.jsxs(Oe,{className:"bg-blue-500 text-white text-xs px-2 py-0.5",children:[e.jsx(Fe,{className:"w-3 h-3 mr-1"}),"Buy"]}):t.listingType==="rent"?e.jsxs(Oe,{className:"bg-green-500 text-white text-xs px-2 py-0.5",children:[e.jsx(Yt,{className:"w-3 h-3 mr-1"}),"Rent"]}):t.listingType==="sell"?e.jsxs(Oe,{className:"bg-primary text-white text-xs px-2 py-0.5",children:[e.jsx(Ht,{className:"w-3 h-3 mr-1"}),"Sell"]}):null;return e.jsx(gr,{open:u,onOpenChange:n,children:e.jsxs(Ot,{className:"max-w-7xl w-[95vw] h-[90vh] max-h-[90vh] overflow-hidden p-0 gap-0 bg-white rounded-2xl shadow-2xl border-none",children:[e.jsxs("div",{className:"absolute top-0 left-0 right-0 z-50 bg-white/98 backdrop-blur-sm border-b border-slate-200 px-4 sm:px-6 py-3 flex items-center justify-between flex-shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("h1",{className:"text-base sm:text-lg md:text-xl font-bold text-primary truncate leading-tight",children:[t.price,t.period&&e.jsx("span",{className:"text-sm font-normal text-slate-600 ml-1",children:t.period})]}),e.jsxs("div",{className:"flex items-center gap-1.5 text-xs sm:text-sm text-slate-600 mt-0.5",children:[e.jsx(Re,{className:"h-3 w-3 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:t.address})]})]}),t.type&&e.jsx(Oe,{className:"bg-primary text-white px-2 py-1 text-xs font-semibold hidden sm:flex whitespace-nowrap",children:t.type})]}),e.jsxs("div",{className:"flex items-center gap-1.5 flex-shrink-0 ml-3",children:[e.jsx(le,{variant:"ghost",size:"icon",onClick:()=>i(!a),className:`h-8 w-8 rounded-full ${a?"bg-primary text-white":"hover:bg-slate-100"}`,children:e.jsx(Xt,{className:`h-4 w-4 ${a?"fill-current":""}`})}),e.jsx(le,{variant:"ghost",size:"icon",onClick:()=>{navigator.share&&navigator.share({title:t.address,text:`Check out this property: ${t.price}`,url:window.location.href})},className:"h-8 w-8 rounded-full hover:bg-slate-100",children:e.jsx(Qt,{className:"h-4 w-4"})}),e.jsx(le,{variant:"ghost",size:"icon",onClick:n,className:"h-8 w-8 rounded-full hover:bg-slate-100",children:e.jsx(ot,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row h-full pt-[70px] overflow-hidden",children:[e.jsx("div",{className:"relative w-full sm:w-2/5 h-[200px] sm:h-[calc(90vh-70px)] bg-gradient-to-br from-slate-200 to-slate-300 flex-shrink-0",children:b.length>0?e.jsxs(e.Fragment,{children:[e.jsx(rr.LazyLoadImage,{src:(()=>{const v=b[p];return v?v.startsWith("data:image")||v.startsWith("http://")||v.startsWith("https://")?v:`data:image/jpeg;base64,${v}`:""})(),alt:t.address,effect:"blur",className:"w-full h-full object-cover",placeholderSrc:"/placeholder.svg"}),G()&&e.jsx("div",{className:"absolute top-2 left-2 z-20",children:G()}),O&&e.jsxs(e.Fragment,{children:[e.jsx(le,{variant:"ghost",size:"icon",onClick:y,className:"absolute left-2 top-1/2 -translate-y-1/2 bg-white/90 hover:bg-white rounded-full shadow-lg h-8 w-8 z-10 backdrop-blur-sm",children:e.jsx(Zt,{className:"h-4 w-4"})}),e.jsx(le,{variant:"ghost",size:"icon",onClick:j,className:"absolute right-2 top-1/2 -translate-y-1/2 bg-white/90 hover:bg-white rounded-full shadow-lg h-8 w-8 z-10 backdrop-blur-sm",children:e.jsx(Kt,{className:"h-4 w-4"})}),e.jsxs("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 bg-black/60 backdrop-blur-sm text-white px-2 py-1 rounded-full text-xs font-medium z-10",children:[p+1," / ",b.length]})]})]}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(Fe,{className:"h-16 w-16 text-slate-400"})})}),e.jsx("div",{className:"flex-1 overflow-y-auto bg-slate-50/50 custom-scrollbar",children:e.jsxs("div",{className:"p-4 sm:p-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[t.bedrooms!==void 0&&e.jsx(ee,{className:"border border-slate-200 hover:border-primary/50 transition-colors",children:e.jsxs(te,{className:"p-3 text-center",children:[e.jsx(Ft,{className:"h-4 w-4 text-primary mx-auto mb-1"}),e.jsx("div",{className:"text-sm sm:text-base font-bold text-slate-800",children:t.bedrooms}),e.jsx("div",{className:"text-[10px] text-slate-600 font-medium",children:"Beds"})]})}),t.bathrooms!==void 0&&e.jsx(ee,{className:"border border-slate-200 hover:border-primary/50 transition-colors",children:e.jsxs(te,{className:"p-3 text-center",children:[e.jsx(Wt,{className:"h-4 w-4 text-primary mx-auto mb-1"}),e.jsx("div",{className:"text-sm sm:text-base font-bold text-slate-800",children:t.bathrooms}),e.jsx("div",{className:"text-[10px] text-slate-600 font-medium",children:"Baths"})]})}),t.sqft&&e.jsx(ee,{className:"border border-slate-200 hover:border-primary/50 transition-colors",children:e.jsxs(te,{className:"p-3 text-center",children:[e.jsx(er,{className:"h-4 w-4 text-primary mx-auto mb-1"}),e.jsx("div",{className:"text-sm sm:text-base font-bold text-slate-800",children:t.sqft}),e.jsx("div",{className:"text-[10px] text-slate-600 font-medium",children:"Sq Ft"})]})}),t.yearBuilt&&e.jsx(ee,{className:"border border-slate-200 hover:border-primary/50 transition-colors",children:e.jsxs(te,{className:"p-3 text-center",children:[e.jsx(tt,{className:"h-4 w-4 text-primary mx-auto mb-1"}),e.jsx("div",{className:"text-sm sm:text-base font-bold text-slate-800",children:t.yearBuilt}),e.jsx("div",{className:"text-[10px] text-slate-600 font-medium",children:"Built"})]})})]}),t.rating&&e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-white rounded-lg border border-slate-200",children:[e.jsx("div",{className:"flex items-center gap-0.5",children:I(t.rating)}),e.jsx("span",{className:"text-sm font-semibold text-slate-800",children:t.rating}),e.jsx("span",{className:"text-xs text-slate-600",children:"/ 5.0"}),t.agent&&e.jsxs("span",{className:"text-xs text-slate-600 ml-auto",children:["by ",t.agent]})]}),e.jsxs(Ut,{defaultValue:"overview",className:"w-full",children:[e.jsxs(Vt,{className:"grid w-full grid-cols-4 h-9 bg-white mb-3",children:[e.jsx(Ce,{value:"overview",className:"text-xs sm:text-sm data-[state=active]:bg-primary data-[state=active]:text-white",children:"Overview"}),e.jsx(Ce,{value:"features",className:"text-xs sm:text-sm data-[state=active]:bg-primary data-[state=active]:text-white",children:"Features"}),e.jsx(Ce,{value:"location",className:"text-xs sm:text-sm data-[state=active]:bg-primary data-[state=active]:text-white",children:"Location"}),e.jsx(Ce,{value:"contact",className:"text-xs sm:text-sm data-[state=active]:bg-primary data-[state=active]:text-white",children:"Contact"})]}),e.jsxs(De,{value:"overview",className:"mt-0 space-y-3",children:[t.description&&e.jsx(ee,{className:"shadow-sm border border-slate-200",children:e.jsxs(te,{className:"p-4",children:[e.jsx("h3",{className:"text-sm sm:text-base font-bold text-slate-800 mb-2",children:"Description"}),e.jsx("p",{className:"text-sm text-slate-600 leading-relaxed line-clamp-4",children:t.description})]})}),t.highlights&&t.highlights.length>0&&e.jsx(ee,{className:"shadow-sm border border-slate-200",children:e.jsxs(te,{className:"p-4",children:[e.jsx("h3",{className:"text-base font-bold text-slate-800 mb-2",children:"Highlights"}),e.jsx("ul",{className:"space-y-1.5",children:t.highlights.slice(0,4).map((v,M)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(et,{className:"h-3.5 w-3.5 text-green-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-xs text-slate-600 leading-relaxed",children:v})]},M))})]})}),(t.propertyTax||t.hoaFee||t.daysOnMarket||t.utilities)&&e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.propertyTax&&e.jsx(ee,{className:"shadow-sm border border-slate-200",children:e.jsxs(te,{className:"p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(qt,{className:"h-3.5 w-3.5 text-primary"}),e.jsx("h4",{className:"text-xs font-semibold text-slate-800",children:"Property Tax"})]}),e.jsx("p",{className:"text-xs text-slate-600",children:t.propertyTax})]})}),t.hoaFee&&e.jsx(ee,{className:"shadow-sm border border-slate-200",children:e.jsxs(te,{className:"p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Jt,{className:"h-3.5 w-3.5 text-primary"}),e.jsx("h4",{className:"text-xs font-semibold text-slate-800",children:"HOA Fee"})]}),e.jsx("p",{className:"text-xs text-slate-600",children:t.hoaFee})]})}),t.daysOnMarket&&e.jsx(ee,{className:"shadow-sm border border-slate-200",children:e.jsxs(te,{className:"p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(zt,{className:"h-3.5 w-3.5 text-primary"}),e.jsx("h4",{className:"text-xs font-semibold text-slate-800",children:"Days on Market"})]}),e.jsxs("p",{className:"text-xs text-slate-600",children:[t.daysOnMarket," days"]})]})}),t.utilities&&e.jsx(ee,{className:"shadow-sm border border-slate-200",children:e.jsxs(te,{className:"p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Fe,{className:"h-3.5 w-3.5 text-primary"}),e.jsx("h4",{className:"text-xs font-semibold text-slate-800",children:"Utilities"})]}),e.jsx("p",{className:"text-xs text-slate-600 line-clamp-2",children:t.utilities})]})})]}),t.mortgageInfo&&e.jsx(ee,{className:"shadow-sm border border-slate-200",children:e.jsxs(te,{className:"p-3",children:[e.jsx("h4",{className:"text-xs font-semibold text-slate-800 mb-1",children:"Financing"}),e.jsx("p",{className:"text-xs text-slate-600 line-clamp-2",children:t.mortgageInfo}),t.specialTerms&&e.jsxs("div",{className:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded text-xs text-yellow-800",children:[e.jsx("strong",{children:"Special:"})," ",t.specialTerms]})]})})]}),e.jsxs(De,{value:"features",className:"mt-0 space-y-3",children:[t.features&&t.features.length>0&&e.jsx(ee,{className:"shadow-sm border border-slate-200",children:e.jsxs(te,{className:"p-4",children:[e.jsx("h3",{className:"text-base font-bold text-slate-800 mb-3",children:"Property Features"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:t.features.map((v,M)=>e.jsxs("div",{className:"flex items-center gap-1.5 p-2 bg-slate-50 rounded text-xs",children:[e.jsx(et,{className:"h-3 w-3 text-green-500 flex-shrink-0"}),e.jsx("span",{className:"text-slate-700",children:v})]},M))})]})}),t.amenities&&t.amenities.length>0&&e.jsx(ee,{className:"shadow-sm border border-slate-200",children:e.jsxs(te,{className:"p-4",children:[e.jsx("h3",{className:"text-base font-bold text-slate-800 mb-3",children:"Amenities"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.amenities.map((v,M)=>e.jsx(Oe,{variant:"secondary",className:"text-xs px-2 py-0.5",children:v},M))})]})})]}),e.jsx(De,{value:"location",className:"mt-0",children:e.jsx(ee,{className:"shadow-sm border border-slate-200",children:e.jsxs(te,{className:"p-4",children:[e.jsx("h3",{className:"text-base font-bold text-slate-800 mb-3",children:"Location"}),e.jsxs("div",{className:"flex items-start gap-2 p-3 bg-slate-50 rounded-lg mb-3",children:[e.jsx(Re,{className:"h-4 w-4 text-primary mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-800",children:t.address}),(t.city||t.state||t.zipCode)&&e.jsxs("p",{className:"text-xs text-slate-600 mt-1",children:[t.city,", ",t.state," ",t.zipCode]})]})]}),e.jsx(vr,{latitude:t.latitude||t.coordinates?.lat||void 0,longitude:t.longitude||t.coordinates?.lng||void 0,address:t.address||"",city:t.city||"",state:t.state||"",zipCode:t.zipCode||t.zip_code||"",height:"h-64",className:"w-full"})]})})}),e.jsxs(De,{value:"contact",className:"mt-0 space-y-3",children:[t.agent&&e.jsx(ee,{className:"shadow-sm border border-slate-200",children:e.jsxs(te,{className:"p-4",children:[e.jsx("h3",{className:"text-base font-bold text-slate-800 mb-3",children:"Listing Agent"}),e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"h-12 w-12 bg-primary text-white rounded-full flex items-center justify-center font-bold text-sm flex-shrink-0",children:t.agent.split(" ").map(v=>v[0]).join("")}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-slate-800 text-sm",children:t.agent}),t.rating&&e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[I(t.rating),e.jsx("span",{className:"text-xs text-slate-600 ml-1",children:t.rating})]})]})]}),t.agentPhone&&e.jsxs(le,{variant:"outline",size:"sm",className:"w-full justify-start h-9 text-xs mb-2",onClick:()=>window.location.href=`tel:${t.agentPhone}`,children:[e.jsx(Be,{className:"h-3.5 w-3.5 mr-2"}),t.agentPhone]}),t.agentEmail&&e.jsxs(le,{variant:"outline",size:"sm",className:"w-full justify-start h-9 text-xs",onClick:()=>window.location.href=`mailto:${t.agentEmail}`,children:[e.jsx(We,{className:"h-3.5 w-3.5 mr-2"}),t.agentEmail]})]})}),t.owner&&t.owner.name&&e.jsx(ee,{className:"shadow-sm border border-slate-200",children:e.jsxs(te,{className:"p-4",children:[e.jsx("h3",{className:"text-base font-bold text-slate-800 mb-3",children:"Property Owner"}),e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"h-12 w-12 bg-slate-500 text-white rounded-full flex items-center justify-center font-bold text-sm flex-shrink-0",children:t.owner.name.split(" ").map(v=>v[0]).join("")}),e.jsx("div",{className:"font-semibold text-slate-800 text-sm",children:t.owner.name})]}),t.owner.phone&&e.jsxs(le,{variant:"outline",size:"sm",className:"w-full justify-start h-9 text-xs mb-2",onClick:()=>window.location.href=`tel:${t.owner.phone}`,children:[e.jsx(Be,{className:"h-3.5 w-3.5 mr-2"}),t.owner.phone]}),t.owner.email&&e.jsxs(le,{variant:"outline",size:"sm",className:"w-full justify-start h-9 text-xs",onClick:()=>window.location.href=`mailto:${t.owner.email}`,children:[e.jsx(We,{className:"h-3.5 w-3.5 mr-2"}),t.owner.email]})]})})]})]}),e.jsx("div",{className:"sticky bottom-0 bg-white border-t border-slate-200 -mx-4 sm:-mx-6 px-4 sm:px-6 py-3 mt-4 shadow-lg",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsxs(le,{size:"sm",onClick:()=>window.location.href="tel:+14129777090",className:"flex-1 bg-primary hover:bg-primary/90 h-10 text-sm font-semibold shadow-md",children:[e.jsx(tt,{className:"h-4 w-4 mr-2"}),"Schedule Tour"]}),e.jsxs(le,{size:"sm",variant:"outline",onClick:()=>window.location.href="mailto:info@pittmetrorealty.com",className:"flex-1 h-10 text-sm font-semibold border-2 hover:bg-primary hover:text-white",children:[e.jsx(We,{className:"h-4 w-4 mr-2"}),"Contact Agent"]}),e.jsxs(le,{size:"sm",variant:"outline",onClick:()=>window.location.href="tel:+14129777090",className:"flex-1 h-10 text-sm font-semibold border-2 hover:bg-primary hover:text-white",children:[e.jsx(Be,{className:"h-4 w-4 mr-2"}),"Call Now"]})]})})]})})]})]})})};class Rr{baseUrl;constructor(u){this.baseUrl=u||"http://3.12.102.126:3001/api"}async testConnection(){try{return(await fetch(`${this.baseUrl.replace("/api","")}/api/health`,{method:"GET",headers:{"Content-Type":"application/json"}})).ok}catch{return!1}}async fetchData(u,n,p=1){const l=`${this.baseUrl}${u}`;let a=null;for(let i=0;i<=p;i++)try{const b=new AbortController,O=setTimeout(()=>b.abort(),3e4),j=await fetch(l,{...n,signal:b.signal,headers:{"Content-Type":"application/json",...n?.headers}});if(clearTimeout(O),!j.ok){let y;try{const v=await j.text();console.error(`API Error Response (${j.status}) raw text:`,v);try{y=JSON.parse(v)}catch{y={message:v||`API error: ${j.statusText} (${j.status})`}}}catch{y={message:`API error: ${j.statusText} (${j.status})`}}const I=y.error||y.message||y.detailedError||`API error: ${j.statusText} (${j.status})`;let G=I;throw y.details,console.error(`API Error Response (${j.status}):`,y),console.error("Extracted error message:",I),new Error(G)}return await j.json()}catch(b){if(a=b,b instanceof Error&&b.name==="AbortError")throw new Error(`Request timeout: The API server at ${this.baseUrl} did not respond within 30 seconds. Please check if the server is running and accessible.`);if(b instanceof TypeError&&(b.message.includes("fetch")||b.message.includes("Failed to fetch"))){if(console.error(`Network error fetching from ${l} (attempt ${i+1}/${p+1}):`,b.message),i===p){const O=this.baseUrl.includes("localhost")||this.baseUrl.includes("127.0.0.1"),j=this.baseUrl.includes("3.12.102.126")||this.baseUrl.includes("pittmetrorealty.com");let y=`Unable to connect to API server at ${this.baseUrl}. `;throw O?y+='Please ensure the server is running with "npm run server" or "npm start".':j?y+=`Possible causes:
1. Server may be down - check if the server is running
2. Firewall/Security Group may be blocking port 3001
3. CORS configuration may need updating
4. Network connectivity issues

Please contact the administrator or check server status.`:y+="Please check your network connection and ensure the server is running.",new Error(y)}await new Promise(O=>setTimeout(O,1e3*(i+1)));continue}throw b instanceof Error?b:(console.error(`Unexpected error fetching from ${l}:`,b),new Error(`An unexpected error occurred: ${String(b)}`))}throw a||new Error("Unknown error occurred")}async getProperties(u){try{const n=new URLSearchParams;u?.status&&n.append("status",u.status),u?.listingType&&n.append("listingType",u.listingType),u?.ownerEmail&&n.append("ownerEmail",u.ownerEmail),u?.limit&&n.append("limit",u.limit.toString()),u?.offset&&n.append("offset",u.offset.toString());const p=`/properties${n.toString()?`?${n.toString()}`:""}`,l=await this.fetchData(p),a="listings"in l?l:{listings:l.data||[],total:l.count||l.total||0};return localStorage.setItem("properties",JSON.stringify(a.listings)),a}catch(n){console.warn("Failed to fetch properties from API, attempting to load from localStorage.");const p=localStorage.getItem("properties");if(p)return{listings:JSON.parse(p),total:JSON.parse(p).length};throw n}}async getProperty(u){try{return(await this.fetchData(`/properties/${u}`)).listing}catch(n){console.warn("Failed to fetch property from API, attempting to load from localStorage.");const p=localStorage.getItem("properties");if(p){const a=JSON.parse(p).find(i=>i.id===u);if(a)return a}throw n}}async createProperty(u){try{const n={...u,photos:await Promise.all(u.photos.map(async(i,b)=>{if(i.file){if(i.file.size>5242880){const I=(i.file.size/1048576).toFixed(2);throw new Error(`Photo ${b+1} (${i.name||"unnamed"}) is too large (${I}MB). Maximum file size is 5MB. Please compress or resize the image before uploading.`)}const j=await this.fileToBase64(i.file),y=5*1024*1024;if(j.length>y){const I=(j.length/1048576).toFixed(2);throw new Error(`Photo ${b+1} (${i.name||"unnamed"}) base64 string is too large (${I}MB, ${j.length.toLocaleString()} characters). Maximum is 5MB. Please use a smaller image.`)}return{name:i.name,url:j,size:i.size,isBase64:!0}}return i}))},p={method:"POST",body:JSON.stringify(n)};console.log("ðŸ“¤ Submitting property data:",{listingType:n.listingType,title:n.title,address:n.address,city:n.city,state:n.state,zipCode:n.zipCode,zip_code:n.zip_code,price:n.price,photosCount:n.photos.length}),!n.zipCode&&!n.zip_code&&(console.error("âŒ WARNING: zipCode is missing from request data!"),console.error("Full processedData:",JSON.stringify(n,null,2)));const l=await this.fetchData("/properties",p);localStorage.removeItem("properties"),localStorage.removeItem("propertyStats"),localStorage.removeItem("owner_listings");const a=l.listing||l;return{...a,photos:Array.isArray(a.photos)?a.photos:[],features:Array.isArray(a.features)?a.features:[],amenities:Array.isArray(a.amenities)?a.amenities:[]}}catch(n){throw console.error("Failed to create property:",n),console.error("Error type:",typeof n),console.error("Error instanceof Error:",n instanceof Error),n instanceof Error&&(console.error("Error message:",n.message),console.error("Error stack:",n.stack)),n}}async updateProperty(u,n){try{const p={method:"PUT",body:JSON.stringify(n)},l=await this.fetchData(`/properties/${u}`,p);localStorage.removeItem("properties"),localStorage.removeItem("propertyStats"),localStorage.removeItem("owner_listings");const a=l.data||l;return{...a,photos:Array.isArray(a.photos)?a.photos.map(i=>({id:i.id,name:i.name||i.photo_name||"",url:i.url||i.photo_url||"",size:i.size||i.photo_size||0})):[],features:Array.isArray(a.features)?a.features:[],amenities:Array.isArray(a.amenities)?a.amenities:[]}}catch(p){throw console.error("Failed to update property:",p),p}}async deleteProperty(u){try{const n={method:"DELETE"};await this.fetchData(`/properties/${u}`,n),localStorage.removeItem("properties"),localStorage.removeItem("propertyStats"),localStorage.removeItem("owner_listings")}catch(n){throw console.error("Failed to delete property:",n),n}}async getPropertyStats(u){try{const n=u?`/properties/stats?ownerEmail=${u}`:"/properties/stats",p=await this.fetchData(n);return localStorage.setItem("propertyStats",JSON.stringify(p)),p}catch{console.warn("Failed to fetch property stats from API, attempting to load from localStorage.");const p=localStorage.getItem("propertyStats");return p?JSON.parse(p):{totalListings:0,publishedListings:0,pendingListings:0,approvedListings:0}}}async getPropertiesByOwner(u){try{const n=`/properties/owner?ownerEmail=${encodeURIComponent(u)}`,p=await this.fetchData(n);return p.listings&&p.listings.length>0&&localStorage.setItem("owner_listings",JSON.stringify(p.listings)),{listings:p.listings||[],total:p.total||0}}catch(n){console.warn("Failed to fetch properties by owner from API, attempting to load from localStorage.");const p=localStorage.getItem("owner_listings");if(p){const l=JSON.parse(p);return{listings:Array.isArray(l)?l:[],total:Array.isArray(l)?l.length:0}}throw n}}async getPublishedProperties(u){return this.getProperties({status:"Published",listingType:u})}fileToBase64(u){return new Promise((n,p)=>{const l=new FileReader;l.readAsDataURL(u),l.onload=()=>n(l.result),l.onerror=a=>p(a)})}base64ToFile(u,n,p="image/jpeg"){const l=u.split(","),a=l[0].match(/:(.*?);/)?.[1]||p,i=atob(l[1]);let b=i.length;const O=new Uint8Array(b);for(;b--;)O[b]=i.charCodeAt(b);return new File([O],n,{type:a})}}export{Jt as B,kr as E,Xt as H,Yt as K,Dr as P,er as S,Rr as a,rr as b};
